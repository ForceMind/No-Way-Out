<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>无归之城｜No Way Out</title>
  <link rel="icon" href="icon.png" type="image/png">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="background-effect"></div>

  <div id="title-screen">
    <h1>无归之城</h1>
    <h2>No Way Out</h2>
    <button id="start-btn">开始游戏</button>
    <div style="margin-top: 20px;">
      <button id="load-btn-title" class="secondary-btn">读取存档</button>
      <button id="settings-btn-title" class="secondary-btn">设置</button>
    </div>
  </div>

  <div id="settings-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:100; justify-content:center; align-items:center;">
    <div style="background:#222; padding:20px; border:1px solid #555; width:300px; text-align:center;">
        <h3>设置</h3>
        <div style="margin:10px 0;">
            <label>音乐音量: <input type="range" id="bgm-volume" min="0" max="1" step="0.1" value="0.5"></label>
        </div>
        <div style="margin:10px 0;">
            <label>音效音量: <input type="range" id="sfx-volume" min="0" max="1" step="0.1" value="0.5"></label>
        </div>
        <button id="close-settings">关闭</button>
    </div>
  </div>

  <div id="identity-screen" style="display:none;">
    <h2 id="identity-title">选择你的身份</h2>
    <div id="intro-text">1937年冬天，南京城陷入战火。你将以不同的身份经历这座城的绝望与挣扎。选择一个身份，决定你的生死与命运。</div>
    <div id="identity-description"></div>
    <div id="identity-list"></div>
    <div>
      <button id="confirm-identity" style="display:none;">确认</button>
      <button id="reselect-identity" style="display:none;">重新选择</button>
    </div>
  </div>

  <div id="game-container" style="display:none;">
    <div id="status-bar">
        <div id="health-display">生命：100</div>
        <div id="sanity-display" style="margin-left: 15px;">理智：100</div>
        <div id="inventory">物品：<span id="inventory-display"></span></div>
        <div style="margin-left: auto;">
            <button id="save-btn" style="font-size: 0.8em; padding: 2px 5px;">保存</button>
            <button id="settings-btn-game" style="font-size: 0.8em; padding: 2px 5px;">设置</button>
        </div>
    </div>
    <div id="dialogue-area">
        <div id="dialogue-text"></div>
    </div>
    <div id="choices-area"></div>
  </div>

  <script type="module" src="js/game.js"></script>
  <!-- Effects are loaded by game.js now -->
</body>
</html>
